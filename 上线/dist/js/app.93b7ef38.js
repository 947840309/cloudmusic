(function(t){function s(s){for(var e,o,r=s[0],c=s[1],l=s[2],h=0,p=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);u&&u(s);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,s=0;s<a.length;s++){for(var n=a[s],e=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(e=!1)}e&&(a.splice(s--,1),t=o(o.s=n[0]))}return t}var e={},i={app:0},a=[];function o(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,s,n){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)o.d(n,e,function(s){return t[s]}.bind(null,e));return n},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,s,n){t.exports=n("56d7")},"168d":function(t,s,n){},"1c86":function(t,s,n){"use strict";var e=n("df8a"),i=n.n(e);i.a},"39bd":function(t,s,n){},5048:function(t,s,n){"use strict";var e=n("8868"),i=n.n(e);i.a},5127:function(t,s,n){},"54b0":function(t,s,n){"use strict";var e=n("5127"),i=n.n(e);i.a},"56d7":function(t,s,n){"use strict";n.r(s);n("99af"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var e=n("a026"),i=n("bc3a"),a=n.n(i),o=n("5c96"),r=n.n(o),c=(n("0fae"),n("f580")),l=n.n(c),u=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"home-head"},[n("ul",{staticClass:"home-title"},[n("li",{staticClass:"iconfont icon-caidan",on:{click:t.showm}}),t._l(t.arr,(function(s){return n("router-link",{key:s.title,attrs:{tag:"li",to:s.url,exact:""},nativeOn:{click:function(n){return t.changenum({num:s.num,url:s.url})}}},[t._v(t._s(s.title))])})),n("li",{staticClass:"iconfont icon-sousuo",on:{click:t.showm}})],2)]),n("transition",{attrs:{name:t.sta}},[n("router-view",{attrs:{name:"option"}})],1),n("transition",{attrs:{name:"menu"}},[n("router-view",{attrs:{name:"menu"}})],1),n("transition",{attrs:{name:"seek"}},[n("router-view",{attrs:{name:"seek"}})],1),n("router-view",{attrs:{name:"login"}}),n("audio",{attrs:{src:t.src}}),n("el-drawer",{staticClass:"drawer1",attrs:{visible:t.drawer,direction:"btt","show-close":!1,modal:!1,wrapperClosable:!1,size:"100%",withHeader:!1},on:{"update:visible":function(s){t.drawer=s}}},[n("div",{staticClass:"song-wrapper",style:{backgroundImage:t.gsbj},on:{click:t.music}},[n("img",{attrs:{src:t.song.al.picUrl,alt:""}}),n("div",[n("h4",[t._v(t._s(t.song.name))]),n("span",[t._v(t._s(t.song.ar[0].name))])]),n("button",{staticClass:"list iconfont icon-liebiao"}),n("button",{staticClass:"play iconfont",class:t.icon,attrs:{state:t.state},on:{click:t.play}})])]),n("el-drawer",{attrs:{"show-close":!1,direction:"ltr",visible:t.showmenu,size:"80%",withHeader:!1},on:{"update:visible":function(s){t.showmenu=s}}},[n("div",{staticClass:"mymenu"},[n("mymenu")],1)]),n("el-drawer",{attrs:{"show-close":!1,direction:"btt",visible:t.showseek,wrapperClosable:!1,size:"100%",withHeader:!1},on:{"update:visible":function(s){t.showseek=s}}},[n("seek")],1),n("el-drawer",{attrs:{"show-close":!1,direction:"btt",visible:t.showmusic,wrapperClosable:!1,size:"100%",withHeader:!1},on:{"update:visible":function(s){t.showmusic=s}}},[n("music")],1)],1)},h=[],p=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"wrapper"},[n("h1",[t._v("这是菜单页面")])])}],g={},m=g,f=(n("80b5"),n("2877")),v=Object(f["a"])(m,p,d,!1,null,null,null),w=v.exports,b=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"seek-wrapper"},[n("div",{staticStyle:{"background-color":"rgba(0,0,0,0.3)",height:"100%",width:"100%"}},[n("div",{staticClass:"seek"},[n("div",[n("p",{staticClass:"goback iconfont icon-fanhui",on:{click:t.backhome}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"data"}],attrs:{type:"text"},domProps:{value:t.data},on:{input:function(s){s.target.composing||(t.data=s.target.value)}}}),n("p",{staticClass:"classify iconfont icon-geshou"})])]),n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll"}],staticClass:"infinite-list",staticStyle:{overflow:"auto"}},t._l(t.songarr,(function(s){return n("li",{key:s.id,on:{click:function(n){return t.music(s)}}},[n("div",[n("h3",[t._v(t._s(s.name))]),n("span",[t._v(t._s(s.artists[0].name))])])])})),0)])])},y=[],_={data:function(){return{data:"",songarr:[]}},computed:{lastop:function(){return this.$store.state.lastop}},watch:{data:function(t){var s=this;""!==t&&this.$axios.get("http://api.happydouble.xyz/search?keywords=".concat(t,"&limit=40")).then((function(t){s.songarr=t.data.result.songs}))}},methods:{music:function(t){this.$store.state.playsonglist=[t],this.$store.commit("changesrc",t.id),this.$store.dispatch("playsong",t.id),this.$store.commit("changeshow","showmusic"),this.backhome()},backhome:function(){this.$store.commit("changeshow","showseek")}}},$=_,x=(n("99a8"),Object(f["a"])($,b,y,!1,null,null,null)),C=x.exports,k=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"music-wrapper",style:{backgroundImage:"url("+t.burl+")"},attrs:{backurl:t.backurl}},[n("div",{staticClass:"music-title"},[n("p",{staticClass:"iconfont icon-fanhui",on:{click:t.show}}),n("div",{staticClass:"text"},[n("h4",[t._v(t._s(t.song.name))]),n("span",[t._v(t._s(t.song.singer))])]),n("p",{staticClass:"iconfont icon-fenxiang"})]),n("div",{staticClass:"music-dial"},[n("musicdial",{attrs:{size:"100%",imgstop:t.runimg,imgsrc:t.imgsrc}})],1),n("div",{staticClass:"control"},[n("div",{staticClass:"music-icon"},[n("ul",t._l(t.icon,(function(t){return n("li",{class:t.icon})})),0)]),n("div",{staticClass:"when"},[n("span",[t._v(t._s(t.gettime))]),n("div",{staticClass:"prog"},[n("el-progress",{attrs:{percentage:t.percentage,"stroke-width":1,"show-text":!1,color:"#909399"}})],1),n("span",[t._v(t._s(t.songTime))])]),n("div",{staticClass:"music-control"},[n("ul",[n("li",{staticClass:"iconfont",class:t.zhuangtai,on:{click:t.loop}}),n("li",{staticClass:"iconfont icon-xiayishou32",on:{click:function(s){return t.changesongindex("last")}}}),n("li",{staticClass:"iconfont",class:t.bofang,attrs:{state:t.state},on:{click:t.oclick}}),n("li",{staticClass:"iconfont icon-shangyishou",on:{click:function(s){return t.changesongindex("next")}}}),n("li",{staticClass:"iconfont icon-liebiao"})])])])])},S=[],z=(n("b0c0"),function(){function t(t){var s,n,e,i,a,o,r,c,l,u,h=t.data,p=t.width,d=t.height,g=[],m=0,f=10,v=5;for(o=1/(Math.sqrt(2*Math.PI)*v),a=-1/(2*v*v),r=0,s=-f;s<=f;s++,r++)i=o*Math.exp(a*s*s),g[r]=i,m+=i;for(r=0,u=g.length;r<u;r++)g[r]/=m;for(n=0;n<d;n++)for(s=0;s<p;s++){for(e=i=a=o=0,m=0,c=-f;c<=f;c++)l=s+c,l>=0&&l<p&&(r=4*(n*p+l),e+=h[r]*g[c+f],i+=h[r+1]*g[c+f],a+=h[r+2]*g[c+f],m+=g[c+f]);r=4*(n*p+s),h[r]=e/m,h[r+1]=i/m,h[r+2]=a/m}for(s=0;s<p;s++)for(n=0;n<d;n++){for(e=i=a=o=0,m=0,c=-f;c<=f;c++)l=n+c,l>=0&&l<d&&(r=4*(l*p+s),e+=h[r]*g[c+f],i+=h[r+1]*g[c+f],a+=h[r+2]*g[c+f],m+=g[c+f]);r=4*(n*p+s),h[r]=e/m,h[r+1]=i/m,h[r+2]=a/m}return t}function s(s){var n=s.width,e=s.height,i=40,a=40,o=document.createElement("canvas"),r=o.getContext("2d");o.width=i,o.height=a,r.drawImage(s,0,0,n,e,0,0,i,a);var c=r.getImageData(0,0,i,a);t(c),r.putImageData(c,0,0);var l=o.toDataURL();return l}return s}()),j=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"dial imgrun",style:{animationPlayState:t.imgstop}},[n("img",{style:{height:""+t.size,width:""+t.size},attrs:{src:t.imgsrc,alt:""}})])},O=[],N={props:{size:{type:String,default:"100px"},imgsrc:{type:String,default:"https://images.pexels.com/photos/4297441/pexels-photo-4297441.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"},imgstop:{type:String,default:"paused"}}},E=N,T=(n("5048"),Object(f["a"])(E,j,O,!1,null,null,null)),M=T.exports;function F(t,s){var n=document.createElement("img");n.src=t,n.crossOrigin="anonymous",n.onload=function(){s.burl=z(n)}}var I={data:function(){return{burl:"",icon:[{icon:"iconfont icon-xihuan"},{icon:"iconfont icon-iconfontzhizuobiaozhun43"},{icon:"iconfont icon-maikefeng"},{icon:"iconfont icon-liuyan"},{icon:"iconfont icon-gengduo"}],bofang:"icon-zanting",xunhuan:"icon-liebiaoxunhuan"}},watch:{burl:function(){this.burl=this.burl}},methods:{show:function(){this.$store.commit("changeshow","showmusic")},oclick:function(t){t.stopPropagation(),this.$audio.paused?(this.$audio.play(),this.$store.commit("changestate","play"),window.$gettime()):(this.$audio.pause(),this.$store.commit("changestate","stop"),window.$clean(window.$timestate))},changesongindex:function(t){this.$store.state.opensr?this.$store.dispatch("getsuiji"):this.$store.commit("changesongindex",t)},loop:function(){this.$audio.loop=!this.$audio.loop,this.$audio.loop?this.xunhuan="icon-danquxunhuan":this.xunhuan="icon-liebiaoxunhuan"}},components:{musicdial:M},computed:{runimg:function(){return"stop"==this.$store.state.audiostate?"paused":"running"},imgsrc:function(){if(""!=this.$store.state.song)return this.$store.state.song.al.picUrl},backurl:function(){return""==this.$store.state.song?"url(".concat(F("/img/12.6568f576.jpg",this),")"):"url(".concat(F(this.$store.state.song.al.picUrl,this),")")},song:function(){return""==this.$store.state.song?{name:"未播放歌曲",singer:""}:{name:this.$store.state.song.name,singer:this.$store.state.song.ar[0].name}},songTime:function(){var t=this.$store.state.songtime;if("number"==typeof this.$store.state.songtime){this.$store.state.songTime=t;var s=t/60,n=t%60;s=Math.floor(s),n=Math.ceil(n),s<10&&(s="0"+s),n<10&&(n="0"+n),t="".concat(s,":").concat(n)}return t},gettime:function(){return this.$store.state.time},percentage:function(){return this.$store.state.percent===1/0||"NaN"==="".concat(this.$store.state.percent)?0:this.$store.state.percent},state:function(){return"stop"==this.$store.state.audiostate?this.bofang="icon-bofang":"play"==this.$store.state.audiostate&&(this.bofang="icon-zanting"),this.$store.state.audiostate},zhuangtai:function(){return this.xunhuan}}},U=I,P=(n("7a37"),Object(f["a"])(U,k,S,!1,null,null,null)),J=P.exports,H={beforeCreate:function(){var t=document.createElement("img"),s=this;t.src="/img/12.6568f576.jpg",t.onload=function(){var n=z(t);s.$store.commit("changegs",n)}},data:function(){return{arr:[{url:{path:"/"},title:"我的",num:1},{url:{name:"find"},title:"发现",num:2},{url:{name:"village"},title:"云村",num:3},{url:{name:"mv"},title:"视频",num:4}],icon:"icon-zanting",showmenu:!1}},methods:{changenum:function(t){this.$store.commit("changenum",t)},play:function(t){t.stopPropagation(),this.$audio.paused?(this.$audio.play(),this.$store.commit("changestate","play"),window.$gettime()):(this.$audio.pause(),this.$store.commit("changestate","stop"),window.$clean(window.$timestate))},showm:function(t){"iconfont icon-sousuo"==t.path[0].className?this.$store.commit("changeshow","showseek"):"iconfont icon-caidan"==t.path[0].className&&(this.showmenu=!this.showmenu)},music:function(){this.$store.commit("changeshow","showmusic")}},computed:{sta:function(){return this.$store.state.sta},src:function(){return this.$store.state.src},drawer:function(){return this.$store.state.drawer},song:function(){return""==this.$store.state.song?{al:{picUrl:"#",name:"未播放歌曲"},ar:[{name:""}]}:this.$store.state.song},state:function(){return"stop"==this.$store.state.audiostate?this.icon="icon-bofang":"play"==this.$store.state.audiostate&&(this.icon="icon-zanting"),this.$store.state.audiostate},showseek:function(){return this.$store.state.showseek},showmusic:function(){return this.$store.state.showmusic},gsbj:function(){return"url(".concat(this.$store.state.gsbj,")")}},components:{mymenu:w,seek:C,music:J}},D=H,B=(n("f7bf"),Object(f["a"])(D,u,h,!1,null,null,null)),W=B.exports,q=n("8c4f"),A=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"me-wrapper"},[n("div",{staticClass:"user"},[[t.loginshow?n("div",{staticClass:"nologin"},[n("p",{staticClass:"iconfont icon-NMStubiao-"}),n("span",[t._v("登录立享手机电脑多端同步")]),n("router-link",{attrs:{tag:"span",to:{name:"login"}}},[t._v("立即登录")])],1):n("div",{staticClass:"login"},[n("img",{attrs:{src:t.user.data.profile.avatarUrl,alt:""}}),n("div",[n("h4",[t._v(t._s(t.user.data.profile.nickname))]),n("span",[t._v("LV."+t._s(t.user.data.level))])]),n("span",[t._v("进入我的VIP >")])])],n("ul",{staticClass:"me-icon"},t._l(t.meicon,(function(s){return n("li",[n("span",{class:s.icon}),n("span",[t._v(t._s(s.text))])])})),0)],2),n("div",{staticClass:"mysongs"},[t._m(0),n("ul",[n("li",{on:{click:function(s){return t.getsonglist("like")}}},[t._m(1),t._m(2)]),n("li",{on:{click:function(s){return t.getsonglist("sr")}}},[t._m(3),t._m(4)]),n("li",{on:{click:function(s){return t.getsonglist("run")}}},[t._m(5)])])]),t.loginshow?t._e():[n("div",{staticClass:"list-wrapper"},[n("div",{staticClass:"change"},[n("p",{class:{bai:t.changelist},on:{click:t.listchange}},[t._v("创建歌单")]),n("p",{class:{bai:!t.changelist},on:{click:t.listchange}},[t._v("收藏歌单")])]),n("div",{staticClass:"osonglist"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.changelist,expression:"changelist"}]},t._l(t.mysongarr,(function(s){return n("li",{on:{click:function(n){return t.getsonglist(s)}}},[n("img",{attrs:{src:s.coverImgUrl+"?param=200y200",alt:""}}),n("p",[n("span",[t._v(t._s(s.name))]),n("span",[t._v(t._s(s.trackCount)+"首")])])])})),0),n("ul",{directives:[{name:"show",rawName:"v-show",value:!t.changelist,expression:"!changelist"}]},t._l(t.nomysongarr,(function(s){return n("li",{on:{click:function(n){return t.getsonglist(s)}}},[n("img",{attrs:{src:s.coverImgUrl+"?param=200y200",alt:""}}),n("p",[n("span",[t._v(t._s(s.name))]),n("span",[t._v(t._s(s.trackCount)+"首")])])])})),0)])])],[n("el-drawer",{attrs:{"show-close":!1,direction:"btt",visible:t.showlist,modal:!1,wrapperClosable:!1,size:"100%",withHeader:!1},on:{"update:visible":function(s){t.showlist=s}}},[n("songlist",{attrs:{songlistid:t.listid,listname:t.listname,description:t.description,songbg:t.songbg,playCount:t.playCount,songnumber:t.songnumber}})],1)],n("br"),n("br")],2)},L=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",{staticClass:"tlite"},[n("span",[t._v("我的音乐")]),n("span",[t._v(">")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("span",{staticClass:"iconfont icon-xihuan"}),n("span",[t._v("我喜欢的音乐")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("span",{staticClass:"like"},[t._v("心动模式")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("span",{staticClass:"iconfont icon-icon--"}),n("span",[t._v("私人FM")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("span",[t._v("懂你的推荐")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("span",{staticClass:"iconfont icon-paobu"}),n("span",[t._v("跑步FM")])])}],V=(n("a4d3"),n("e01a"),n("4de4"),n("fb6a"),function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"musiclist-warpper"},[n("div",{staticClass:"goback",style:t.gsbj},[n("div",{staticClass:"omg"},[n("p",{staticClass:"p-laft"},[n("i",{staticClass:"icon-arrow-left iconfont",on:{click:t.goBack}}),n("span",[t._v("歌单")])]),t._m(0)])]),n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"infinite-list",staticStyle:{overflow:"auto"}},[n("li",{staticClass:"list-head",style:t.gsbj},[n("div",{staticClass:"headerdiv"},[n("p",{staticClass:"songimg"},[n("img",{attrs:{src:t.songbg,alt:""}})]),n("div",{staticClass:"headtext"},[n("h3",[t._v(t._s(t.listname))]),n("img",{attrs:{src:t.mulist.data.playlist.creator.backgroundUrl,alt:""}}),n("span",[t._v(t._s(t.mulist.data.playlist.creator.nickname)+" >")])])]),n("div",{staticClass:"headicon"},[n("p",[n("span",{staticClass:"iconfont icon-pinglun"}),n("small",[t._v(t._s(t.mulist.data.playlist.commentCount||"评论"))])]),n("p",[n("span",{staticClass:"iconfont icon-fenxiang"}),n("small",[t._v(t._s(t.mulist.data.playlist.shareCount||"分享"))])]),t._m(1),t._m(2)])]),t._l(t.mulist.data.playlist.tracks,(function(s,e){return n("li",{key:e,staticClass:"music",on:{click:function(s){return t.playmusic(e)}}},[n("span",{staticClass:"oindex"},[t._v(t._s(e+1))]),n("p",{staticClass:"music-name"},[n("span",{staticClass:"song-title"},[t._v(t._s(s.name))]),n("span",{staticClass:"song-zz"},[t._v(t._s(s.ar[0].name))])]),t._m(3,!0)])}))],2)])}),R=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",{staticClass:"p-right"},[n("i",{staticClass:"icon-search iconfont"}),n("i",{staticClass:"icon-gengduo iconfont"})])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("span",{staticClass:"iconfont icon-xiazai"}),n("small",[t._v("下载")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("span",{staticClass:"iconfont icon-duoxuan"}),n("small",[t._v("多选")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",{staticClass:"music-icon"},[n("span",{staticClass:"iconfont icon-shipin- "}),n("span",{staticClass:"iconfont icon-gengduo"})])}],G=(n("4160"),n("a9e3"),n("159b"),n("2909")),K={data:function(){return{mulist:{data:{playlist:{tracks:[],creator:{backgroundUrl:"#"}}}},gsbj:{backgroundImage:"url(".concat(this.$store.state.gsbj,")")},songid:[],index:0}},watch:{songlistid:function(){var t=this,s="";this.$store.state.user&&(s=this.$store.state.user.data.cookie),this.$axios({url:"http://api.happydouble.xyz/playlist/detail/?id=".concat(this.songlistid,"&cookie=").concat(s),method:"get"}).then((function(s){t.mulist=s,t.songid=s.data.playlist.trackIds}))}},created:function(){var t=this,s="";this.$store.state.user&&(s=this.$store.state.user.data.cookie),this.$axios({url:"http://api.happydouble.xyz/playlist/detail/?id=".concat(this.songlistid,"&cookie=").concat(s),method:"get"}).then((function(s){t.mulist=s,t.songid=s.data.playlist.trackIds}))},props:{songlistid:{type:Number,default:0},listname:{type:String,default:"我喜欢的音乐"},description:{type:String,default:""},songnumber:{type:Number,default:0},songbg:{type:String,default:""},playCount:{type:Number,default:0}},methods:{playmusic:function(t){this.$store.commit("changesonglist",[this.songid,t])},goBack:function(){this.$store.state.showlistF?this.$store.commit("changelistF"):this.$store.commit("changelist")},load:function(){var t=this,s=this.index,n=[],e=0,i="";if(this.$store.state.showlist||this.$store.state.showlistF){if(s>=this.songid.length)return;e=s+30,e>this.songid.length&&(e=this.songid.length),n=this.songid.slice(s,e),this.index=e,n.forEach((function(t){i+="".concat(t.id,",")})),i=i.slice(0,i.length-1),this.$axios({url:"http://api.happydouble.xyz/song/detail",method:"post",data:{ids:i}}).then((function(s){var n;(n=t.mulist.data.playlist.tracks).push.apply(n,Object(G["a"])(s.data.songs)),t.index==t.songid.length&&(t.mulist.data.playlist.tracks=t.mulist.data.playlist.tracks.slice(0,t.index))}))}}}},Q=K,X=(n("a738"),Object(f["a"])(Q,V,R,!1,null,null,null)),Y=X.exports,Z={data:function(){return{meicon:[{icon:"icon-yinyue iconfont",text:"本地音乐"},{icon:"icon-Download_icon iconfont",text:"下载管理"},{icon:"icon-diantai iconfont",text:"我的电台"},{icon:"icon-shoucang iconfont",text:"我的收藏"},{icon:"icon-zhuanjiguangpan iconfont",text:"关注新歌"}],user:"",userid:"",changelist:!0,listid:"",listname:"",description:"",songnumber:"",songbg:"",playCount:""}},computed:{loginshow:function(){return this.user=this.$store.state.detail,""==this.user&&(this.user={data:{profile:{avatarUrl:"#",nickname:"请稍后"},level:0}}),this.userid=""==this.$store.state.user?"":this.$store.state.user.data.account.id,""==this.$store.state.user},mysongarr:function(){var t=this,s=this.$store.state.usersonglist.slice(1)||[];return s=s.filter((function(s){return s.userId==t.userid})),s},nomysongarr:function(){var t=this,s=this.$store.state.usersonglist.slice(1)||[];return s=s.filter((function(s){return s.userId!=t.userid})),s},showlist:function(){return this.$store.state.showlist}},methods:{getsonglist:function(t){if("sr"==t){if(this.$store.state.opensr)return;this.$store.commit("changesr")}else{if("like"==t){if(""==this.userid)return void this.$message({message:"该功能需要登录！！",duration:2e3});this.listid=this.$store.state.usersonglist[0].id,this.songnumber=this.$store.state.usersonglist[0].trackCount,this.songbg=this.$store.state.usersonglist[0].coverImgUrl+"?param=200y200",this.playCount=this.$store.state.usersonglist[0].playCount}else this.listid=t.id,this.songnumber=t.trackCount,this.songbg=t.coverImgUrl+"?param=200y200",this.playCount=t.playCount;this.listname=t.name,this.description=t.description,this.$store.commit("changelist")}},listchange:function(){this.changelist=!this.changelist}},components:{songlist:Y}},tt=Z,st=(n("879d"),Object(f["a"])(tt,A,L,!1,null,null,null)),nt=st.exports,et=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"find-wrapper"},[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll"}],staticClass:"find-cont",staticStyle:{overflow:"auto"}},[n("li",{staticClass:"exclusive"},[n("el-carousel",{ref:"banner",attrs:{interval:5e3,arrow:"never",height:"180px"}},t._l(t.banner,(function(s){return n("el-carousel-item",[n("img",{directives:[{name:"tap",rawName:"v-tap",value:function(s){return t.vueTouch("d","banner")},expression:"(e) => vueTouch('d','banner')"},{name:"swipeleft",rawName:"v-swipeleft",value:function(s){return t.vueTouch("z","banner")},expression:"(e) => vueTouch('z','banner')"},{name:"swiperight",rawName:"v-swiperight",value:function(s){return t.vueTouch("y","banner")},expression:"(e) => vueTouch('y','banner')"}],attrs:{src:s.imageUrl+"?param=600y200"}})])})),1)],1),n("li",{staticClass:"tab-control"},[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll"}],staticStyle:{overflow:"auto"},style:{height:t.h}},[t._l(t.tabControl,(function(s){return n("li",{on:{click:function(n){return t.changeid(s.id)}}},[n("span",{staticClass:"dw",class:s.icon}),n("span",{staticClass:"tx"},[t._v(" "+t._s(s.text)+" ")])])})),n("li",[n("span",{staticClass:"dw xc",on:{click:function(s){return t.changeid(8)}}},[t._v("点亮现场")]),n("span",{staticClass:"tx"},[t._v(" 线上演出 ")])])],2)]),n("li",{staticClass:"song-list"},[t._m(0),n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll"}],staticStyle:{overflow:"auto"},style:{height:t.h}},t._l(t.regedan,(function(s){return n("li",{on:{click:function(n){return t.getlist(s)}}},[n("img",{attrs:{src:s.picUrl+"?param=200y200",alt:""}}),n("span",[t._v(t._s(s.name))])])})),0)]),n("li",{staticClass:"new-song"},[n("div",{staticClass:"li-title"},[n("h4",[t._v("懂你的新曲推荐")]),n("span",{staticClass:"play",on:{click:function(s){return t.newall(t.newsong)}}},[t._v("全部播放")])]),n("div",{staticClass:"li-song"},[n("el-carousel",{ref:"rege",attrs:{interval:4e3,height:"275px",autoplay:!1,"indicator-position":"none",arrow:"never"}},t._l(4,(function(s){return n("el-carousel-item",{key:s},t._l(t.showli(s-1),(function(s){return n("div",{directives:[{name:"tap",rawName:"v-tap",value:function(s){return t.vueTouch("d","rege")},expression:"(e) => vueTouch('d','rege')"},{name:"swipeleft",rawName:"v-swipeleft",value:function(s){return t.vueTouch("z","rege")},expression:"(e) => vueTouch('z','rege')"},{name:"swiperight",rawName:"v-swiperight",value:function(s){return t.vueTouch("y","rege")},expression:"(e) => vueTouch('y','rege')"}],staticClass:"lb"},[n("img",{attrs:{src:s.album.picUrl+"?param=200y200",alt:""}}),n("div",{staticClass:"song-name"},[n("h4",[t._v(t._s(s.album.name))]),n("span",[t._v(" - "+t._s(s.artists[0].name))]),n("span",[t._v("- "+t._s(s.alias[0]))])]),n("span",{staticClass:"icon iconfont icon-play",on:{click:function(n){return t.playsong(s)}}})])})),0)})),1)],1)]),[n("el-drawer",{attrs:{"show-close":!1,direction:"btt",visible:t.showlistF,modal:!1,wrapperClosable:!1,size:"100%",withHeader:!1},on:{"update:visible":function(s){t.showlistF=s}}},[n("songlist",{attrs:{songlistid:t.listid,listname:t.listname,description:t.description,songbg:t.songbg,playCount:t.playCount,songnumber:t.songnumber}})],1)],n("br"),n("br"),n("br"),n("br"),n("br")],2)])},it=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"li-title"},[n("h4",[t._v("宝藏歌单，值得聆听")]),n("span",[t._v("查看更多")])])}];n("c975");function at(t){return Math.floor(Math.random()*t-1)}var ot={data:function(){return{listid:"",listname:"",description:"",songbg:"",playCount:"",songnumber:"",banner:[],regedan:[],newsong:[],tabControl:[{icon:"iconfont icon-meirituijian-",text:"每日推荐",id:"0"},{icon:"iconfont icon-gedan",text:"歌单",id:"1"},{icon:"iconfont icon-paixingbang",text:"排行榜",id:"2"},{icon:"iconfont icon-wodediantai",text:"电台",id:"3"},{icon:"iconfont icon-sirenfm-copy-copy",text:"私人FM",id:"4"},{icon:"iconfont icon-huo",text:"火前留名",id:"5"},{icon:"iconfont icon-ziyuan",text:"数字专辑",id:"6"},{icon:"iconfont icon-liaotian",text:"唱聊",id:"7"}],h:window.innerWidth+"px"}},mounted:function(){var t=this,s="";function n(t){for(var n="",e=0;e<12;e++){var i=s[at(100)];-1==n.indexOf("".concat(i.id))?(n+="".concat(i.id,"."),i?t.newsong.push(i):t.newsong.push(s[at(100)])):e-=1}}sessionStorage.banner?this.banner=JSON.parse(sessionStorage.banner):this.$axios.get("http://api.happydouble.xyz/banner").then((function(s){t.banner=s.data.banners,sessionStorage.banner=JSON.stringify(t.banner)})),sessionStorage.result?this.regedan=JSON.parse(sessionStorage.regedan):this.$axios.get("http://api.happydouble.xyz/personalized?limit=10").then((function(s){t.regedan=s.data.result,sessionStorage.regedan=JSON.stringify(t.regedan)})),sessionStorage.newsongs?(s=JSON.parse(sessionStorage.newsongs),n(this)):this.$axios.get("http://api.happydouble.xyz/top/song?type=0").then((function(e){s=e.data.data,sessionStorage.newsongs=JSON.stringify(s),n(t)}))},methods:{vueTouch:function(t,s){switch(t){case"z":return void this.$refs[s].next();case"y":return void this.$refs[s].prev();case"d":return}},showli:function(t){if(""!=this.newsong){t*=3;for(var s=[],n=0;n<3;n++)s.push(this.newsong[t+n]);return s}},changeid:function(t){console.log(t)},playsong:function(t){this.$store.state.playsonglist=[t],this.$store.commit("changesrc",t.id),this.$store.dispatch("playsong",t.id)},newall:function(t){console.log(t),this.$store.commit("changesonglist",[t])},getlist:function(t){this.listid=t.id,this.listname=t.name,this.songbg=t.picUrl,this.description=t.copywriter,this.playCount=t.playCount,this.songnumber=null,this.$store.commit("changelistF")}},components:{songlist:Y},computed:{showlistF:function(){return this.$store.state.showlistF}}},rt=ot,ct=(n("54b0"),Object(f["a"])(rt,et,it,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("h1",[t._v("云村页面")])])}],pt={},dt=pt,gt=Object(f["a"])(dt,ut,ht,!1,null,null,null),mt=gt.exports,ft=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("h1",[t._v("这是视频页面")])},vt=[],wt={},bt=wt,yt=Object(f["a"])(bt,ft,vt,!1,null,null,null),_t=yt.exports,$t=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"log-wrapper"},[t._m(0),n("div",{staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),n("el-button",{attrs:{center:!0,plain:!0},on:{click:t.gologin}},[t._v("一键登录")]),n("el-button",{attrs:{center:!0,plain:!0},on:{click:t.nologin}},[t._v("立即体验")])],1)])},xt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",{staticClass:"logo"},[e("img",{attrs:{src:n("c526"),alt:""}})])}],Ct={data:function(){return{phone:"",password:""}},methods:{gologin:function(){var t=this,s=void 0;if(sessionStorage.user&&(s=JSON.parse(sessionStorage.user).config.data),s&&-1!=s.indexOf(this.phone)&&-1!=s.indexOf(this.password))this.$store.commit("login",JSON.parse(sessionStorage.user)),this.$store.commit("userdetail",JSON.parse(sessionStorage.detail)),this.$message({type:"success",message:"登录成功！",duration:2e3}),this.$router.go(-1);else{if(""==this.phone||""==this.password)return void this.$message("请填写完整手机或密码！");var n=this.$loading({text:"登录中...",target:".log-wrapper"});this.$axios.post("http://api.happydouble.xyz/login/cellphone",{phone:this.phone,password:this.password}).then((function(s){t.$axios.get("http://api.happydouble.xyz/user/detail?uid=".concat(s.data.account.id)).then((function(s){t.$store.commit("userdetail",s),sessionStorage.detail=JSON.stringify(s)}),(function(t){console.log(t,"获取失败")})),n.close(),t.$store.commit("login",s),sessionStorage.user=JSON.stringify(s),t.$message({type:"success",message:"登录成功！",duration:2e3}),t.$router.go(-1)})).catch((function(s){n.close(),t.$message({type:"error",message:"登录失败！请检查手机号或密码。"})}))}},nologin:function(){this.$message({message:"未登录！",duration:2e3}),this.$router.go(-1)}}},kt=Ct,St=(n("1c86"),Object(f["a"])(kt,$t,xt,!1,null,null,null)),zt=St.exports;e["default"].use(q["a"]);var jt=new q["a"]({linkExactActiveClass:"go",routes:[{path:"/",name:"me",components:{option:nt}},{path:"/find",name:"find",components:{option:lt}},{path:"/village",name:"village",components:{option:mt}},{path:"/mv",name:"mv",components:{option:_t}},{path:"/login",name:"login",components:{option:zt}}]}),Ot=jt,Nt=n("2f62");e["default"].use(Nt["a"]);var Et=new Nt["a"].Store({state:{num:1,sta:"left",lastop:"find",src:"",drawer:!1,song:"",audiostate:"stop",showseek:!1,showmusic:!1,songTime:0,songtime:"00:00",time:"00:00",percent:0,playsonglist:[],songindex:0,user:"",detail:"",usersonglist:"",opensr:!1,gsbj:"",showlist:!1,showlistF:!1},mutations:{changenum:function(t,s){t.lastop=s.url,s.num>t.num?t.sta="right":t.sta="left",t.num=s.num},changesrc:function(t,s){t.src="https://music.163.com/song/media/outer/url?id=".concat(s),t.drawer=!0},changesong:function(t,s){t.song=s[0]},changestate:function(t,s){t.audiostate=s},changeshow:function(t,s){switch(s){case"showseek":t.showseek=!t.showseek;break;case"showmusic":t.showmusic=!t.showmusic}},stime:function(t,s){t.songtime=s},write:function(t,s){t.time=s.time,t.percent=s.percent},ytime:function(t,s){t.songTime=s},changesonglist:function(t,s){t.playsonglist=s[0];var n=void 0==s[1]?0:s[1];this.commit("changesongindex",n)},changesongindex:function(t,s){"next"===s?t.songindex+=1:"last"===s?t.songindex-=1:t.songindex=s,t.songindex>t.playsonglist.length-1?t.songindex=0:t.songindex<0&&(t.songindex=t.playsonglist.length-1),this.commit("changesrc",t.playsonglist[t.songindex].id),this.dispatch("playsong",t.playsonglist[t.songindex].id)},login:function(t,s){t.user=s},userdetail:function(t,s){t.detail=s,this.dispatch("usersong",s.data.profile.userId)},usersongarr:function(t,s){t.usersonglist=s.data.playlist},changesr:function(t){t.opensr=!t.opensr,t.opensr&&this.dispatch("getsuiji")},changegs:function(t,s){t.gsbj=s},changelist:function(t){t.showlist=!t.showlist},changelistF:function(t){t.showlistF=!t.showlistF}},actions:{getsuiji:function(t){var s=new Date;e["default"].prototype.$axios.get("http://api.happydouble.xyz/personal_fm?data=".concat(s.getTime())).then((function(s){t.commit("changesrc",s.data.data[0].id),t.dispatch("playsong",s.data.data[0].id)})).catch((function(s){console.log(s,"获取失败!尝试重新获取！！"),t.dispatch("getsuiji")}))},playsong:function(t,s){e["default"].prototype.$axios.get("http://api.happydouble.xyz/song/detail?ids=".concat(s)).then((function(s){t.commit("changesong",s.data.songs)})),e["default"].prototype.$audio.load(),e["default"].prototype.$audio.onloadeddata=function(s){this.play(),t.commit("stime",this.duration),t.commit("changestate","play"),window.$gettime()}},usersong:function(t,s){e["default"].prototype.$axios.get("http://api.happydouble.xyz/user/playlist?uid=".concat(s)).then((function(s){t.commit("usersongarr",s)}))}}}),Tt=Et;Window.prototype.$gettime=function(){var t=Ft.currentTime,s=Tt.state.songTime,n=t/60,e=t%60;s=Math.ceil(t/s*100),n=Math.floor(n),e=Math.ceil(e),n<10&&(n="0"+n),e<10&&(e="0"+e),t="".concat(n,":").concat(e),Tt.commit("write",{time:t,percent:s}),window.$timestate=requestAnimationFrame(window.$gettime)},Window.prototype.$clean=function(t){cancelAnimationFrame(t)},Window.prototype.$timestate="",e["default"].use(r.a),e["default"].use(l.a),e["default"].prototype.$axios=a.a;var Mt=new e["default"]({el:"#main",router:Ot,store:Tt,components:{home:W},template:"<home></home>"}),Ft=document.getElementsByTagName("audio")[0];e["default"].prototype.$audio=document.getElementsByTagName("audio")[0],e["default"].prototype.$audio.onended=function(){Mt.$store.state.opensr?Mt.$store.dispatch("getsuiji"):Mt.$store.commit("changesongindex","next")}},"7a37":function(t,s,n){"use strict";var e=n("9de0"),i=n.n(e);i.a},"80b5":function(t,s,n){"use strict";var e=n("b7f8"),i=n.n(e);i.a},"879d":function(t,s,n){"use strict";var e=n("168d"),i=n.n(e);i.a},8868:function(t,s,n){},"99a8":function(t,s,n){"use strict";var e=n("ca4b"),i=n.n(e);i.a},"9de0":function(t,s,n){},a738:function(t,s,n){"use strict";var e=n("39bd"),i=n.n(e);i.a},b7f8:function(t,s,n){},c526:function(t,s,n){t.exports=n.p+"img/timg.fd997601.jpg"},ca4b:function(t,s,n){},df8a:function(t,s,n){},f405:function(t,s,n){},f7bf:function(t,s,n){"use strict";var e=n("f405"),i=n.n(e);i.a}});
//# sourceMappingURL=app.93b7ef38.js.map